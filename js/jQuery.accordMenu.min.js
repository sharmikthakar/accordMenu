(function(e){e.fn.extend({accordMenu:function(t){var n={keepParentOpen:false,keepSiblingsOpen:false,animation:"slide",selLink:"selected",parLink:"",mainLink:""};var t=e.extend(n,t);if(t.parLink==""){n.parLink=n.mainLink}return this.each(function(){var n=t;var r=e(this).attr("class");e("."+r+" li>a").next().addClass("subAccordMenu");e("."+r+" ol>a").next().addClass("subAccordMenu");e("."+r+" a").next().hide();e("."+r+" li>a").on("click",function(){var t=e(this);e("."+r+" a").removeClass(n.selLink).removeClass(n.parLink).removeClass(n.mainLink);if(n.keepParentOpen==true){}else{switch(n.animation){case"hide":{e(this).parentsUntil("."+r+">li").siblings().find(".subAccordMenu").hide()};default:{e(this).parentsUntil("."+r+">li").siblings().find(".subAccordMenu").slideUp()}}}if(n.keepSiblingsOpen==true){}else{switch(n.animation){case"hide":{e(this).parents("."+r+">li").siblings().find(".subAccordMenu").hide()};default:{e(this).parents("."+r+">li").siblings().find(".subAccordMenu").slideUp()}}}switch(n.animation){case"hide":{if(!t.hasClass(n.selLink)&&t.next().is(":visible")){t.next().toggle();t.removeClass(n.selLink)}else{t.next().toggle();t.addClass(n.selLink)}break};default:{if(!t.hasClass(n.selLink)&&t.next().is(":visible")){t.next().slideToggle();t.removeClass(n.selLink)}else{t.next().slideToggle();t.addClass(n.selLink)}}}t.parents("ul.subAccordMenu").siblings("a").addClass(n.parLink).parents("ul.subAccordMenu").siblings("a").removeClass(n.parLink).addClass(n.mainLink);return false})})}})})(jQuery)