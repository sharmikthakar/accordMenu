(function(a){a.fn.extend({accordMenu:function(b){var c={keepParentOpen:false,keepSiblingsOpen:false,retainOpen:false,animation:"slide",selLink:"selected",parLink:"",mainLink:""};var b=a.extend(c,b);if(b.parLink==""){c.parLink=c.mainLink}return this.each(function(){var e=b;var d=a(this).attr("class");a("."+d+" li>a").next().addClass("subAccordMenu");a("."+d+" ol>a").next().addClass("subAccordMenu");a("."+d+" a").next().hide();a("."+d+" li>a").on("click",function(){var f=a(this);a("."+d+" a").removeClass(e.selLink).removeClass(e.parLink).removeClass(e.mainLink);if(e.keepParentOpen==true){}else{switch(e.animation){case"hide":f.parentsUntil("."+d+">li").siblings().find(".subAccordMenu").hide();default:f.parentsUntil("."+d+">li").siblings().find(".subAccordMenu").slideUp()}}if(e.keepSiblingsOpen==true){}else{switch(e.animation){case"hide":f.parents("."+d+">li").siblings().find(".subAccordMenu").hide();default:f.parents("."+d+">li").siblings().find(".subAccordMenu").slideUp()}}if(e.retainOpen==true){}else{switch(e.animation){case"hide":f.siblings().find(".subAccordMenu").hide();default:f.siblings().find(".subAccordMenu").slideUp()}}switch(e.animation){case"hide":if(!f.hasClass(e.selLink)&&f.next().is(":visible")){f.next().toggle();f.removeClass(e.selLink)}else{f.next().toggle();f.addClass(e.selLink)}break;default:if(!f.hasClass(e.selLink)&&f.next().is(":visible")){f.next().slideToggle();f.removeClass(e.selLink)}else{f.next().slideToggle();f.addClass(e.selLink)}}f.parents(".subAccordMenu").siblings("a").addClass(e.parLink).parents(".subAccordMenu").siblings("a").removeClass(e.parLink).addClass(e.mainLink);return false})})}})})(jQuery);